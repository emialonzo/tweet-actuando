<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=640">

  <link rel="stylesheet" href="stylesheets/core.css" media="screen">
  <link rel="stylesheet" href="stylesheets/mobile.css" media="handheld, only screen and (max-device-width:640px)">
  <link rel="stylesheet" href="stylesheets/github-light.css">

  <script type="text/javascript" src="javascripts/modernizr.js"></script>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <script type="text/javascript" src="javascripts/headsmart.min.js"></script>
  <script type="text/javascript">
  $(document).ready(function () {
    $('#main_content').headsmart()
  })
  </script>
  <title>Tweet Actuando by emialonzo</title>
</head>

<body>
  <a id="forkme_banner" href="https://github.com/emialonzo/tweet-actuando">View on GitHub</a>
  <div class="shell">

    <header>
      <span class="ribbon-outer">
        <span class="ribbon-inner">
          <h1>Tweet Actuando</h1>
          <h2>Envia un tweet predefinido a una lista de usuarios.</h2>
        </span>
        <span class="left-tail"></span>
        <span class="right-tail"></span>
      </span>
    </header>

    <section id="downloads">
      <span class="inner">
        <a href="https://github.com/emialonzo/tweet-actuando/zipball/master" class="zip"><em>download</em> .ZIP</a><a href="https://github.com/emialonzo/tweet-actuando/tarball/master" class="tgz"><em>download</em> .TGZ</a>
      </span>
    </section>


    <span class="banner-fix"></span>


    <section id="main_content">

      <select id="selectUser" class='form-control'>
      </select>

      <p >Enviando tweet a <span style="font-weight: bold;" id="encabezado-user"></span></p>


      <div id="conteiner" class="">

      </div>


      <h3>
        <a id="designer-templates" class="anchor" href="#designer-templates" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>
        Designer Templates
      </h3>


    </section>

    <footer>
      <span class="ribbon-outer" >
        <span class="ribbon-inner">
          <p>this project by <a href="https://github.com/emialonzo">emialonzo</a> can be found on <a href="https://github.com/emialonzo/tweet-actuando">GitHub</a></p>
        </span>
        <span class="left-tail"></span>
        <span class="right-tail"></span>
      </span>
      <p>Generated with <a href="https://pages.github.com">GitHub Pages</a> using Merlot</p>
      <span class="octocat"></span>
    </footer>

  </div>

  <script>
    window.twttr = (function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0],
      t = window.twttr || {};
      if (d.getElementById(id)) return t;
      js = d.createElement(s);
      js.id = id;
      js.src = "https://platform.twitter.com/widgets.js";
      fjs.parentNode.insertBefore(js, fjs);

      t._e = [];
      t.ready = function(f) {
        t._e.push(f);
      };

      return t;
    }(document, "script", "twitter-wjs"));
    </script>


    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script> -->
    <!-- Latest compiled and minified JavaScript -->
    <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script> -->
    <script type="text/javascript">
    //valores iniciales
    var twitter_users = ["emialonzo", "lupa18"];
    var textos = ["Texto a twittear 1","Texto a twittear 2","Texto a twittear 3"];
    var selectedUser = twitter_users[0];
    //inicializando
    $(document).ready(function(){
      //inicializando select
      var html="";
      twitter_users.map(function(user){
        html+='<option value="' + user + '">@' + user + '</option>'
      });
      $("#selectUser").html(html);
      //evento select
      $("select#selectUser").change(function(){
        selectedUser = $(this).val();

        $("#encabezado-user").text(selectedUser);

        textos.map(function(text){
          // makeButton(selectedUser, text);
          makeHtml();
        });
      });

      twttr.ready(
        function (twttr) {
          makeHtml();
        }
      );
    });

    function makeHtml(){
      $("#conteiner").html("");
      $("#encabezado-user").text(selectedUser);
      var count = 0;
      textos.map(function(text){
        count++;
        $("#conteiner").append("<h3 class='header-level-1'>Tweet</h3><p>"+text+"</p><div style='margin-right: 0px; margin-left: auto;' ><div style='float: right;' id=p"+count+"></div><br /><hr />");
        makeButton(selectedUser, text, "p"+count);
      });
    }

    function makeButton(user, text, idConteiner){
      // idConteiner = "conteiner";

      twttr.widgets.createMentionButton(
        user,
        document.getElementById(idConteiner),
        {
          text: text
        }
      );
    }
    </script>

</body>
</html>
